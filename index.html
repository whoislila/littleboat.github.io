<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Little Boat</title>

  <!-- Fonts (optional) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+SC:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- Main stylesheet (already contains .hero-full / .hero-video rules) -->
  <link rel="stylesheet" href="./css/index.css" />
</head>

<body>
  <!-- Top navigation overlaying the hero -->
  <header class="site-header">
    <div class="site-brand">
      <a href="#top">
        <img src="image/logo.png" alt="Little Boat logo" class="site-logo">
        <span class="site-title-text">Little Boat</span>
      </a>
    </div>

    <nav class="site-nav" aria-label="Main navigation">
      <a href="/">Home</a>
      <a href="/html/archive.html">Archive</a>
      <a href="/html/about.html">About</a>
    </nav>

    <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
      Menu
    </button>
  </header>

  <!-- Full-screen landing hero with video background -->
  <section class="hero-full" id="top">
    <video
      id="heroVideo"
      class="hero-video"
      autoplay
      muted
      loop
      playsinline
      preload="auto">
      <source src="video/video_index.mp4" type="video/mp4" />
      <!-- Optional WebM:
      <source src="video/landing.webm" type="video/webm" />
      -->
      <!-- Fallback image handled by CSS background in .hero-full -->
    </video>

    <!-- Dark overlay gradient -->
    <div class="hero-overlay"></div>

    <!-- Hero text -->
    <div class="hero-content">
      <h1 class="hero-title">CINEMA &amp; PROJECTS</h1>
      <p class="hero-subtitle">A small boat for screenings, film writing, and quiet images.</p>
    </div>
  </section>

  <script>
    // Mobile nav toggle
    const toggle = document.querySelector('.nav-toggle');
    const nav = document.querySelector('.site-nav');
    if (toggle && nav) {
      toggle.addEventListener('click', () => {
        const isOpen = nav.classList.toggle('is-open');
        toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });
    }

    // Force hero video autoplay, with user-interaction fallback
    const heroVideo = document.getElementById('heroVideo');
    function tryPlayHeroVideo() {
      if (!heroVideo) return;
      heroVideo.muted = true;
      heroVideo.setAttribute('muted', '');
      heroVideo.setAttribute('playsinline', '');
      const playPromise = heroVideo.play();
      if (playPromise && playPromise.catch) {
        playPromise.catch(() => {
          const resume = () => {
            heroVideo.play().catch(() => {});
            window.removeEventListener('click', resume);
            window.removeEventListener('touchstart', resume);
          };
          window.addEventListener('click', resume, { once: true });
          window.addEventListener('touchstart', resume, { once: true });
        });
      }
    }
    if (heroVideo) {
      heroVideo.addEventListener('canplay', tryPlayHeroVideo, { once: true });
      window.addEventListener('load', tryPlayHeroVideo);
    }
  </script>
</body>
</html>
