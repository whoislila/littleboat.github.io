<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Little Boat - Event 1</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+SC:wght@300;400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../css/event-detail.css" />
</head>
<body>
  <div id="page-top"></div>

  <!-- 1. Same nav as Archive page -->
  <header class="site-header">
    <div class="site-brand">
      <a href="/#top">Little Boat</a>
    </div>

    <div class="site-logo-center">
      <a href="/#top">
        <img src="../image/logo.png" alt="Little Boat logo">
      </a>
    </div>

    <nav class="site-nav" aria-label="Main navigation">
      <a href="/">Home</a>
      <a href="/html/archive.html">Archive</a>
      <a href="/html/about.html">About</a>
    </nav>

    <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
      Menu
    </button>
  </header>

  <main>
    <!-- 2. Intro section with gradient -->
    <section class="event-hero">
      <div class="event-hero-inner">
        <!-- 2.1 Back to Archive -->
        <a href="/html/archive.html" class="back-link">&lt; Back to Archive</a>

        <div class="event-hero-content">
          <div class="event-hero-text">
            <!-- 2.2 Title + description -->
            <h1>Tell Me a Story about Kundera</h1>
            <p>
              The films touched on themes which for earlier film makers 
                  in the communist countries had rarely managed to avoid the 
                  objections of the censor, such as the misguided youths of 
                  Czechoslovak society portrayed in Miloš Forman's Black Peter (1963) 
                  and Loves of a Blonde (1965), or those caught in a surrealistic 
                  whirlwind in Věra Chytilová's Daisies (1966) and Jaromil Jireš' 
                  Valerie and Her Week of Wonders (1970). The films often expressed 
                  dark and absurd humour in opposition to social realist films of the 1950s.
            </p>
          </div>

          <!-- 2.2 Image on the right -->
          <div class="event-hero-image">
            <img src="../image/Czech-main.JPG" alt="Event 3 hero image">
          </div>
        </div>
      </div>
    </section>

    <!-- 3. Independent introduction section -->
    <section class="event-intro">
      <div class="event-intro-inner">
        <p>
        The majority of films shot during the New Wave were Czech-language 
        as opposed to Slovak. Many directors came from the prestigious FAMU, 
        located in Prague, while the state-run Barrandov Studios were located 
        just on the outskirts of Prague. Some prominent Czech directors 
        included Miloš Forman, who directed The Firemen's Ball, Black Peter, 
        and Loves of a Blonde during this time, Věra Chytilová who is best 
        known for her film Daisies, and Jiří Menzel, whose film Closely Watched 
        Trains (Ostře sledované vlaky 1966) won an Academy Award for Best Foreign Language Film.
        </p>
      </div>
    </section>

    <!-- 4. Main body with carousel -->
    <section class="event-body">
      <div class="event-body-inner">
        <!-- Left: film text (static position, content changes) -->
        <div class="film-info">
          <h2 id="film-title"></h2>
          <p id="film-meta" class="film-meta"></p>
          <br>
          <p id="film-cast" class="film-cast"></p>
        </div>

        <!-- Right: carousel + description -->
        <div class="film-visual">
        <div class="carousel-window">
            <button class="carousel-arrow left" aria-label="Previous film">&#8249;</button>

            <div class="carousel-track">
            <div class="carousel-slide">
                <img src="../image/Czech-1.JPG" alt="Film 1 still">
            </div>
            <div class="carousel-slide">
                <img src="../image/Czech-2.JPG" alt="Film 2 still">
            </div>
            <div class="carousel-slide">
                <img src="../image/Czech-3.JPG" alt="Film 3 still">
            </div>
            <div class="carousel-slide">
                <img src="../image/Czech-4.JPG" alt="Film 4 still">
            </div>
            </div>

            <button class="carousel-arrow right" aria-label="Next film">&#8250;</button>
        </div>

        <div class="carousel-dots">
            <span class="dot active" data-index="0"></span>
            <span class="dot" data-index="1"></span>
            <span class="dot" data-index="2"></span>
            <span class="dot" data-index="3"></span>
        </div>

        <p id="film-description" class="film-description"></p>
        </div>


          <!-- 4.1 / 4.3 Film description (aligned with image, text fades) -->
          <p id="film-description" class="film-description"></p>
        </div>
      </div>
    </section>

    <!-- 5. Contact (same as Archive) -->
    <section class="archive-contact">
      <div class="archive-contact-inner">
        <div class="contact-divider"></div>
        <p>For any research or screening-related request, you can contact us at:</p>
        <div class="contact-pill">contact@littleboatfilm.com</div>
      </div>
    </section>
  </main>

  <!-- 5. Footer (same as Archive) -->
  <footer id="footer">
    <span>Copyright © 2025 littleboatfilm.com v1.0, All rights reserved</span>
  </footer>

  <!-- Back to top -->
  <a id="to-top" href="#page-top" aria-label="Back to top"></a>

  <script>
    // Back-to-top visibility
    const toTop = document.getElementById('to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 220) {
        toTop.classList.add('show');
      } else {
        toTop.classList.remove('show');
      }
    });

    // Smooth scroll anchors
    document.querySelectorAll('a[href^="#"]').forEach(link => {
      link.addEventListener('click', e => {
        const targetId = link.getAttribute('href');
        if (targetId && targetId !== '#') {
          const target = document.querySelector(targetId);
          if (target) {
            e.preventDefault();
            target.scrollIntoView({ behavior: 'smooth' });
          }
        }
      });
    });

    // Mobile nav toggle
    const toggle = document.querySelector('.nav-toggle');
    const nav = document.querySelector('.site-nav');
    if (toggle && nav) {
      toggle.addEventListener('click', () => {
        const isOpen = nav.classList.toggle('is-open');
        toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });
    }

    // 4.2 / 4.3 Carousel logic
    const films = [
      {
        title: "Sedmikrásky (Daisies)",
        meta: "Czechoslovak / 1966 / Not Rated / 1h 15m",
        cast: `Director: Vera Chytilová
          Writers: Vera Chytilová, Pavel Jurácek, Ester Krumbachová
          Cast: Ivana Karbanová, Jitka Cerhová, Marie Cesková
        `,
        description: `After realizing that all world is spoiled, Marie and Marie 
        are committed to be spoiled themselves. They rip off older men, 
        feast in lavish meals and do all kinds of mischief. But what is all this leading to?`
      },
      {
        title: "Ucho (The Ear)",
        meta: "Czechoslovak / 1970 / Not Rated / 1h 34m",
        cast: `Director: Karel Kachyna
          Writers: Karel Kachyna, Jan Procházka, Ladislav Winkelhöfer
          Cast: Jirina Bohdalová, Radoslav Brzobohatý, Gustav Opocenský
        `,
        description: `After coming home from a Party gathering one night, 
        a Czech official becomes convinced that he is about to be the 
        subject of a political purge and tries to do damage control, 
        while also dealing with his turbulent marriage.`
      },
      {
        title: "Horí, má panenko (The Firemen's Ball)",
        meta: "Czechoslovak / 1967 / Not Rated / 1h 13m",
        cast: `Director: Milos Forman
          Writers: Milos Forman, Jaroslav Papousek, Ivan Passer
          Cast: Jan Vostrcil, Josef Sebánek, Josef Valnoha
        `,
        description: `A volunteer fire department throws a party for their 
        former boss with the whole town invited, but nothing goes as planned.`
      },
      {
        title: "Diamonds of the Night",
        meta: "Czechoslovak / 1964 / Not Rated / 1h 7m",
        cast: `Director: Jan Nemec
          Writers: Arnost Lustig, Jan Nemec
          Cast: Antonín Kumbera, Ladislav Jánsky, Ilse Bischofova
        `,
        description: `Two Jewish boys escape from a train transporting 
        them from one concentration camp to another. The film goes beyond 
        the themes of war and anti-Nazism and concerns itself with man's 
        struggle to preserve human dignity.`
      }
    ];

    const track = document.querySelector('.carousel-track');
    const slides = Array.from(document.querySelectorAll('.carousel-slide'));
    const dots = Array.from(document.querySelectorAll('.dot'));
    const leftArrow = document.querySelector('.carousel-arrow.left');
    const rightArrow = document.querySelector('.carousel-arrow.right');

    const filmTitleEl = document.getElementById('film-title');
    const filmMetaEl = document.getElementById('film-meta');
    const filmCastEl = document.getElementById('film-cast');
    const filmDescEl = document.getElementById('film-description');

    let currentIndex = 0;

    function updateText(index) {
      // fade out
      [filmTitleEl, filmMetaEl, filmCastEl, filmDescEl].forEach(el => {
        el.classList.remove('fade-in');
        el.classList.add('fade-out');
      });

      setTimeout(() => {
        const film = films[index];
        filmTitleEl.textContent = film.title;
        filmMetaEl.textContent = film.meta;
        filmCastEl.textContent = film.cast;
        filmDescEl.textContent = film.description;

        // fade in
        [filmTitleEl, filmMetaEl, filmCastEl, filmDescEl].forEach(el => {
          el.classList.remove('fade-out');
          el.classList.add('fade-in');
        });
      }, 200); // brief overlap before new text
    }

    function updateCarousel(index) {
      // move images horizontally
      const offset = -index * 100;
      track.style.transform = `translateX(${offset}%)`;

      // update dots
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
      });

      // update text
      updateText(index);
    }

    function goTo(index) {
      if (index < 0) index = slides.length - 1;
      if (index >= slides.length) index = 0;
      currentIndex = index;
      updateCarousel(currentIndex);
    }

    leftArrow.addEventListener('click', () => goTo(currentIndex - 1));
    rightArrow.addEventListener('click', () => goTo(currentIndex + 1));

    dots.forEach(dot => {
      dot.addEventListener('click', () => {
        const idx = Number(dot.dataset.index);
        goTo(idx);
      });
    });

    // init
    updateCarousel(0);
  </script>
</body>
</html>
